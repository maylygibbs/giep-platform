<nav class="page-breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/accreditations">Acreditaciones</a></li>
      <li class="breadcrumb-item active" aria-current="page">Generar Acreditaciones</li>
    </ol>
  </nav>
<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">

                <div class="row">
                    <div  class="col-lg-4 col-md-4">
                        <div *ngIf="eventDetail" class="d-flex mt-2 align-items-center"><i class="feather icon-calendar me-2"></i><h4>{{eventDetail?.title}}</h4></div>
                        <div *ngIf="eventDetail" class="d-flex align-items-center"><i class="feather icon-clock me-2"></i><h5 class="text-muted">{{eventDetail?.start | date:'MMMM d, y'}}{{' de '+(eventDetail?.start | date: 'hh:mm a')}}{{' a '+(eventDetail?.end | date: 'hh:mm a')}}</h5></div>
                        <div *ngIf="eventDetail" class="d-flex align-items-center"><i class="feather icon-users me-2"></i><h5 class="text-muted">{{eventDetail.usersInvited.length > 0? eventDetail.usersInvited.length +' Invitados': eventDetail.usersInvited.length +' Invitado'}}</h5></div>
                        <div class="d-flex flex-column mt-4">
                            <div *ngIf="eventDetail" class="d-flexalign-items-center"><i class="feather icon-clipboard me-2"></i><h5>Detalle</h5></div>
                            <div *ngIf="eventDetail"><p class="text-muted">{{eventDetail.description}}</p></div>                            
                        </div>                  
                        
                       

                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="card">
                            <div class="card-body d-flex">
                                <div #dropzone class="dropzone" [dropzone]="config" (error)="onUploadError($event)"
                                (success)="onUploadSuccess($event)" (addedFile)="addFile($event)"
                                (removedFile)="resetDropzoneUploads()" style="width: 100%;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-4">
                        <div class="card">
                            <div class="card-header">Apariencia de Grid</div>
                            <div class="card-body">
                                <div class="row">
                                    <div  class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="form-check mb-3">
                                            <input type="radio" class="form-check-input" name="radioappearance" id="radioappearance3" [(ngModel)]="quantityCard"  value="3">
                                            <label class="form-check-label" for="radioDisabled">
                                                3 x 1
                                            </label>
                                        </div>
                                        <div class="form-check  mb-3">
                                            <input type="radio" class="form-check-input" name="radioappearance" id="radioappearance4" [(ngModel)]="quantityCard"  value="4">
                                            <label class="form-check-label" for="radioDisabled">
                                                4 x 1
                                            </label>
                                        </div>
                                        <div class="form-check  mb-3">
                                            <input type="radio" class="form-check-input" name="radioappearance" id="radioappearance5" [(ngModel)]="quantityCard"  value="6">
                                            <label class="form-check-label" for="radioDisabled">
                                                6 x 1
                                            </label>
                                        </div>
                                        <div class="form-check  mb-3">
                                            <input type="radio" class="form-check-input" name="radioappearance" id="radioappearance5" [(ngModel)]="quantityCard"  value="12">
                                            <label class="form-check-label" for="radioDisabled">
                                                12 x 1
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div  class="col-lg-12 col-md-12"></div>
                                </div>
                                <div class="row">
                                    <div  class="col-lg-12 col-md-12"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mb-6">
                    <div  class="col-lg-4 col-md-4">
                        <div class="card">
                            <div class="card-header">Apariencia de Texto</div>
                            <div class="card-body">
                                <div class="row">
                                    <div  class="col-lg-12 col-md-12">
                                        <div class="mb-3">
                                            <label for="inputTextSize" class="form-label required">Color</label>
                                            <input type="text" name="textColor" class="form-control"
                                            [(colorPicker)]="appearance.textColor" [style.background]="appearance.textColor">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div  class="col-lg-12 col-md-12">
                                        <div class="mb-3">
                                            <label for="inputSex" class="form-label">Posición</label>
                                            <ng-select id="inputTextPosition" name="textPosition" #textPosition="ngModel" [searchable]="false"
                                              [(ngModel)]="appearance.textPosition">
                                              <ng-option value="text-center-top">Centro-Superior</ng-option>
                                              <ng-option value="text-center-center">Centro-Centro</ng-option>
                                              <ng-option value="text-center-button">Centro-Inferior</ng-option>

                                              <ng-option value="text-left-top">Izquierda-Superior</ng-option>
                                              <ng-option value="text-left-center">Izquierda-Centro</ng-option>
                                              <ng-option value="text-left-button">Izquierda-Inferior</ng-option>

                                              <ng-option value="text-right-top">Derecha-Superior</ng-option>
                                              <ng-option value="text-right-center">Derecha-Centro</ng-option>
                                              <ng-option value="text-right-button">Derecha-Inferior</ng-option>
                                            </ng-select>
                                          </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div  class="col-lg-12 col-md-12">
                                        <div class="mb-3">
                                            <label for="inputTextSize" class="form-label required">Tamaño</label>
                                            <input type="number" name="textSize" #textSize="ngModel" [(ngModel)]="appearance.textSize" class="form-control">                                   
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div  class="col-lg-4 col-md-4">
                        <div class="card">
                            <div class="card-header">Apariencia de Código QR</div>
                            <div class="card-body">
                                <div class="row">
                                    <div  class="col-lg-12 col-md-12">
                                        <div class="mb-3">
                                            <label for="inputTextSize" class="form-label required">Color</label>
                                            <input type="text" name="qrColor" class="form-control"
                                            [(colorPicker)]="qrColorValue" [style.background]="qrColorValue" (colorPickerClose)="onChangeQrColor($event)">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div  class="col-lg-12 col-md-12">
                                        <div class="mb-3">
                                            <label for="inputQrPosition" class="form-label">Posición</label>
                                            <ng-select id="inputQrPosition" name="qrPosition" #qrPosition="ngModel" [searchable]="false"
                                              [(ngModel)]="appearance.qrPosition">
                                              <ng-option value="qrcode-center-top">Centro-Superior</ng-option>
                                              <ng-option value="qrcode-center-center">Centro-Centro</ng-option>
                                              <ng-option value="qrcode-center-button">Centro-Inferior</ng-option>

                                              <ng-option value="qrcode-left-top">Izquierda-Superior</ng-option>
                                              <ng-option value="qrcode-left-center">Izquierda-Centro</ng-option>
                                              <ng-option value="qrcode-left-button">Izquierda-Inferior</ng-option>

                                              <ng-option value="qrcode-right-top">Derecha-Superior</ng-option>
                                              <ng-option value="qrcode-right-center">Derecha-Centro</ng-option>
                                              <ng-option value="qrcode-right-button">Derecha-Inferior</ng-option>
                                            </ng-select>
                                          </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div  class="col-lg-12 col-md-12">
                                        <div class="mb-3">
                                            <label for="inputTextSize" class="form-label required">Tamaño</label>
                                            <input type="number" name="qrSize" #qrSize="ngModel" [(ngModel)]="qrSizeValue" class="form-control" (change)="onChangeQrSize($event)" min="35">                                   
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div  class="col-lg-4 col-md-4 d-flex align-items-center justify-content-end">
                        <button class="btn btn-primary ms-2 me-2" [disabled]="!eventDetail?.urlImg"
                        (click)="generateAccreditations()">Generar Acreditaciones</button>

                    </div>
                </div>
                <div *ngIf="accreditations" class="row mb-6">
                    <div class="col-lg-12 col-md-12 text-right">
                        <button class="btn btn-success mt-4"
                        (click)="printDiv('print-section');">Imprimir Acreditaciones</button>
                    </div>
                </div>
                <div *ngIf="accreditations" class="container" id="print-section" class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="row p-0">
                            <div class="col-sm-12 col-xs-12 p-1" [ngClass]="{'col-md-12': quantityCard=='1','col-md-6': quantityCard=='2','col-md-4': quantityCard=='3', 'col-md-3': quantityCard=='4', 'col-md-2': quantityCard=='6', 'col-md-1': quantityCard=='12'}" *ngFor="let accreditation of accreditations">
                                <div class="image" style="width: 100%;">
                                    <img [src]="eventDetail?.urlImg" style="max-width: 100%;height: auto;">
                                    <div [class]="appearance.textPosition">
                                        <h3 class="font-weight-bold" [style.font-size.px]="appearance.textSize" [style.color]="appearance.textColor">{{accreditation.primer_nombre+' '+accreditation.primer_apellido | titlecase}}</h3>
                                        <h5 class="font-weight-bold" [style.font-size.px]="(appearance.textSize-3)" [style.color]="appearance.textColor">{{'CI. '+accreditation.cedula}}</h5>                                        
                                    </div>
                                    <div [class]="appearance.qrPosition">
                                        <qrcode [elementType]="'img'" [qrdata]="'Your data string'" [colorDark]="appearance.qrColor" [width]="appearance.qrSize" [errorCorrectionLevel]="'M'"></qrcode>
                                    </div>
                                </div>
                                <!--<div style="page-break-after: always;border:1px red solid;width: 100%;height:29rem;background-image: url('assets/images/arte-acreditacion.png');background-repeat: no-repeat;background-size: 100% auto; background-position:center">

                                </div>-->
                               <!--<div class="card"
                                    style="width: 18rem;background-image: url('assets/images/arte-acreditacion.png');background-repeat: no-repeat;background-size: 100% auto; background-position:center">
                                    <div class="card-body mt-6">
                                        <h4 class="text-center mt-3 mb-4">&nbsp;</h4>
                                        <i class="feather icon-gift text-success icon-xxl d-block text-center my-3"
                                            style="visibility: hidden;"></i>                                        
                                        <p class="text-muted text-center mb-4 fw-light">&nbsp;</p>
                                        <h3 class="text-center mt-6 font-weight-bold">{{accreditation.primer_nombre+' '+accreditation.primer_apellido | titlecase}}</h3>
                                        <h5 class="text-center mb-4 font-weight-bold">{{'CI. '+accreditation.cedula}}</h5>
                                        
                                        <table class="mx-auto" style="visibility: hidden;">
                                            <tr>
                                                <td><i class="feather icon-check icon-md text-primary me-2"></i></td>
                                                <td>
                                                    <p>Accounting dashboard</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="feather icon-check icon-md text-primary me-2"></i></td>
                                                <td>
                                                    <p>Invoicing</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="feather icon-check icon-md text-primary me-2"></i></td>
                                                <td>
                                                    <p>Online payments</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="feather icon-check icon-md text-primary me-2"></i></td>
                                                <td>
                                                    <p>Branded website</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="feather icon-check icon-md text-primary me-2"></i></td>
                                                <td>
                                                    <p>Dedicated account manager</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="feather icon-x icon-md text-danger me-2"></i></td>
                                                <td>
                                                    <p class="text-muted">Premium apps</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="feather icon-x icon-md text-danger me-2"></i></td>
                                                <td>
                                                    <p class="text-muted">Premium apps</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="feather icon-x icon-md text-danger me-2"></i></td>
                                                <td>
                                                    <p class="text-muted">Premium apps</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="feather icon-x icon-md text-danger me-2"></i></td>
                                                <td>
                                                    <p class="text-muted">Premium apps</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="feather icon-x icon-md text-danger me-2"></i></td>
                                                <td>
                                                    <p class="text-muted">Premium apps</p>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td><i class="feather icon-check icon-md text-primary me-2"></i></td>
                                                <td>
                                                    <p>Premium apps</p>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>